<%- include('../includes/header') %> 
<input type="hidden" value="<%= openModal %>" id="modalCondition">

  <section class="container shop my-5">
      <div class="row">
          <div class="col-12  col-lg-3 col-xl-3">
              <div class="mt-3">
                <div class="category-header">
                    <h6 class="text-primary text-uppercase" style="letter-spacing: 2px;">Categories</h6>
                    <div class="line"></div>
                </div>
                <ul class="category-lists">
                    <li class="category-item">
                      <a href="?page=<%= currentPage %><%= medicine &&"&medicine="+medicine %>" class="text-black-50">All</a>
                    </li>
                    <hr>
                    <% for(category of categories){ %> 
                        <li class="category-item" >
                            <span class="text-black-50 search-category" style="cursor: pointer;">
                              <%= category.name %>
                            </span>
                            <input type="hidden" value="<%= category._id %>">
                        </li>
                        <hr>
                    <% } %> 

                    <div>
                        
                    </div>
                </ul>
               
              </div>
          </div>
          <div class="col-12  col-lg-9 col-xl-9 product-container">
            <div class="row">
              <div class="col-12 text-center loading-container" style="display: none;">
                <div class="loader">Loading...</div>
              </div>
            </div>
            <div class="row mt-3 product-lists">
                <div class="col-12 col-md-8">
                </div>
                <div class="col-12 col-md-4 text-center search-bar">
                    <form method="post">
                      <div class="form-row ">
                        <div class="form-inline">
                          <div class="my-1">
                            <label class="sr-only" for="inlineFormInputGroupUsername">Username</label>
                            <div class="input-group">
                              <input type="hidden" value="<%= categoryId %>" id="category">
                              <input type="text" class="form-control smedicine" id="inlineFormInputGroupUsername " placeholder= "Search Medicine">
                             
                              <div class="input-group-prepend">
                                <button type="submit" class="btn btn-primary search-medicine"><i class="fa-solid fa-magnifying-glass"></i></button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                </div>
                <% if(products.length>0){ %>
                  <% for(product of products) {%>
                    <div class="col-12 col-md-6 col-xl-4 col-lg-4  mt-4">
                      <a href="/shop/<%= product._id %> ">
                        <div class="card shadow" style="border-radius: 25px !important;">
                          <div class="card-body">
                            <div class="text-center">
                              <img src="<%= product.image %> " alt="" style="height: 150px;border-radius: 50%;">
                            </div>
                              
                              <div class="ratings">
                                <i class="fa-solid fa-star text-warning"></i>
                                <i class="fa-solid fa-star text-warning"></i>
                                <i class="fa-solid fa-star text-warning"></i>
                                <i class="fa-solid fa-star text-warning"></i>
                                <i class="fa-solid fa-star text-warning"></i>
                              </div>
                              <h5 class="card-title"><%= product.name %> </h5>
                              <p><%= product.price %>  (MMK) </p>
                              <!-- <span class="text-success" style="font-size: .8rem;">1500 (MMK)</span> -->
                          </div>
                      </div>
                      </a>
                    </div>
                  <% } %>  
                <% }else{ %>
                  <div class="col-12">
                    <h3 class="text-center mt-4 text-black-50">Products Not Found</h3>
                  </div>
                <% } %>  
                <div class="col-12 mt-5 text-center">
                  <div class="d-flex justify-content-center">
                      <nav aria-label="Page navigation example">
                        <ul class="pagination">
                          <% if(hasPreviousPage){ %>
                            <li class="page-item"><a class="page-link" href="<%= currentPage-1 %>"><i class="fa-solid fa-chevron-left"></i></a></li>
                          <% } %>  
                          <% for(paginator of paginators){ %>
                            <li class="page-item">
                              <span class="page-link nextPage <%= paginator+1 == currentPage && 'bg-primary text-white'%>" style="cursor: pointer;">
                                <%= paginator+1 %>
                              </span>
                              <input type="hidden" value="<%= paginator+1 %>">
                            </li>
                          <% } %>  
                          <% if(hasNextPage){ %>
                            <li class="page-item"><a class="page-link" href="<%= currentPage+1 %>"><i class="fa-solid fa-chevron-right"></i></a></li>
                          <% } %>  
                        </ul>
                      </nav>
                  </div>
                </div>
            </div>   
          </div>
      </div>
         
  </section>
  <%- include('../includes/footer') %> 
  <script src="/js/frontend/medicine.js"></script>
</body>
</html>


